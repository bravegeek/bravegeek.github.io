<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Entity Framework 6 and Sybase SQL Anywhere | Brave Geek</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="The ProblemGetting Sybase SQL Anywhere 16 (SA16) to work with Entity Framework 6 (EF6) can be a bit of a challenge. What made our situation particularly challenging was that we had older versions of">
<meta property="og:type" content="article">
<meta property="og:title" content="Entity Framework 6 and Sybase SQL Anywhere">
<meta property="og:url" content="http:/bravegeek.github.io/2016/07/13/Entity-Framework-6-and-Sybase-SQL-Anywhere/index.html">
<meta property="og:site_name" content="Brave Geek">
<meta property="og:description" content="The ProblemGetting Sybase SQL Anywhere 16 (SA16) to work with Entity Framework 6 (EF6) can be a bit of a challenge. What made our situation particularly challenging was that we had older versions of">
<meta property="og:image" content="http:/bravegeek.github.io/content/images/2016/ef6.sybase.png">
<meta property="og:updated_time" content="2016-11-28T05:31:37.443Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Entity Framework 6 and Sybase SQL Anywhere">
<meta name="twitter:description" content="The ProblemGetting Sybase SQL Anywhere 16 (SA16) to work with Entity Framework 6 (EF6) can be a bit of a challenge. What made our situation particularly challenging was that we had older versions of">
<meta name="twitter:image" content="http:/bravegeek.github.io/content/images/2016/ef6.sybase.png">
<meta name="twitter:creator" content="@gregread">
  
    <link rel="alternate" href="/atom.xml" title="Brave Geek" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Brave Geek</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">courageously breaking technology</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-twitter-link" class="nav-icon" href="https://twitter.com/gregread" title="tiwtter"></a>
        
        
          <a id="nav-linkedin-link" class="nav-icon" href="https://www.linkedin.com/in/gregoryread" title="linked_in"></a>
        
        
          <a id="nav-github-link" class="nav-icon" href="https://github.com/bravegeek" title="github"></a>
        
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http:/bravegeek.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Entity-Framework-6-and-Sybase-SQL-Anywhere" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/13/Entity-Framework-6-and-Sybase-SQL-Anywhere/" class="article-date">
  <time datetime="2016-07-14T03:45:02.000Z" itemprop="datePublished">2016-07-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Entity Framework 6 and Sybase SQL Anywhere
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/content/images/2016/ef6.sybase.png" alt=""></p>
<h2 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h2><p>Getting Sybase SQL Anywhere 16 (SA16) to work with Entity Framework 6 (EF6) can be a bit of a challenge. What made our situation particularly challenging was that we had older versions of Entity Framework (EF4) that needed to work with SA16.</p>
<p>Sybase documentation instructs you to install the latest version of Sybase and then run the special .exe for EF6. Unfortunately, this leaves you with SA16 drivers that ONLY work with EF6. Any other code that needs to use an older version of EF won’t work correctly.</p>
<h2 id="The-Fix"><a href="#The-Fix" class="headerlink" title="The Fix"></a>The Fix</h2><p>It turns out there is a way to have both! Some simple config file changes will accomplish this.</p>
<p>You’ll need to modify three sections: </p>
<ol>
<li>connectionStrings</li>
<li>system.data</li>
<li>entityFramework</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">connectionStrings</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">"YourSybaseConnection"</span> <span class="attr">connectionString</span>=<span class="string">"Host=your_hosting_server;ServerName=your_Sybase_DB_server_instance;DatabaseName=your_db_name;uid=db_user_id;pwd=db_pwd"</span> <span class="attr">providerName</span>=<span class="string">"iAnywhere.Data.SQLAnywhere"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">connectionStrings</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">system.data</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">DbProviderFactories</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">clear</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">"SQL Anywhere 16 Data Provider"</span> <span class="attr">invariant</span>=<span class="string">"iAnywhere.Data.SQLAnywhere"</span> <span class="attr">description</span>=<span class="string">".Net Framework Data Provider for SQL Anywhere 16"</span> <span class="attr">type</span>=<span class="string">"iAnywhere.Data.SQLAnywhere.SAFactory, iAnywhere.Data.SQLAnywhere.EF6, Version=16.0.0.20434, Culture=neutral, PublicKeyToken=f222fc4333e0d400"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">DbProviderFactories</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">system.data</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">entityFramework</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">defaultConnectionFactory</span> <span class="attr">type</span>=<span class="string">"System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">parameters</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">parameter</span> <span class="attr">value</span>=<span class="string">"mssqllocaldb"</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">parameters</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">defaultConnectionFactory</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">providers</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">provider</span> <span class="attr">invariantName</span>=<span class="string">"System.Data.SqlClient"</span> <span class="attr">type</span>=<span class="string">"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer"</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">provider</span> <span class="attr">invariantName</span>=<span class="string">"iAnywhere.Data.SQLAnywhere"</span> <span class="attr">type</span>=<span class="string">"iAnywhere.Data.SQLAnywhere.SAProviderServices, iAnywhere.Data.SQLAnywhere.EF6, Version=16.0.0.20434, Culture=neutral, PublicKeyToken=f222fc4333e0d400"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">providers</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">entityFramework</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Now your code that uses the older EF should run side-by-side with the new EF6 code.</p>
<h3 id="Noteworthy"><a href="#Noteworthy" class="headerlink" title="Noteworthy"></a>Noteworthy</h3><p>The Sybase connection string is definitely different than a MS SQL connection string.<br>If you follow my example, you won’t need to setup an ODBC DSN; it will simply connect.</p>
<p>Make sure you’re running a newer version of Sybase SA16, some older versions don’t have the .dll’s for EF6.</p>
<p>Helpful links:<br><a href="http://sqlanywhere-forum.sap.com/questions/22161/entity-framework-6-provider" target="_blank" rel="external">How to add Sybase EF6 provider</a><br><a href="http://dcx.sybase.com/index.html#sa160/en/dbprogramming/deploying-adonet-deploy.html" target="_blank" rel="external">Sybase .Net client deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http:/bravegeek.github.io/2016/07/13/Entity-Framework-6-and-Sybase-SQL-Anywhere/" data-id="ciwa87pu30003z0pia7s6q52x" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Entity-Framework/">Entity Framework</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sybase/">Sybase</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/12/03/Deploy-WebJobs-from-Team-Services/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Deploy WebJobs from Team Services
        
      </div>
    </a>
  
  
    <a href="/2015/05/20/Troubleshooting-Entity-Framework-performance-problems/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Troubleshooting Entity Framework performance problems</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Entity-Framework/">Entity Framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Performance-Tuning/">Performance Tuning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sybase/">Sybase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Team-Services/">Team Services</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VSO/">VSO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebJobs/">WebJobs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Entity-Framework/" style="font-size: 20px;">Entity Framework</a> <a href="/tags/Performance-Tuning/" style="font-size: 10px;">Performance Tuning</a> <a href="/tags/Sybase/" style="font-size: 10px;">Sybase</a> <a href="/tags/Team-Services/" style="font-size: 10px;">Team Services</a> <a href="/tags/VSO/" style="font-size: 10px;">VSO</a> <a href="/tags/WebJobs/" style="font-size: 10px;">WebJobs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/12/03/Deploy-WebJobs-from-Team-Services/">Deploy WebJobs from Team Services</a>
          </li>
        
          <li>
            <a href="/2016/07/13/Entity-Framework-6-and-Sybase-SQL-Anywhere/">Entity Framework 6 and Sybase SQL Anywhere</a>
          </li>
        
          <li>
            <a href="/2015/05/20/Troubleshooting-Entity-Framework-performance-problems/">Troubleshooting Entity Framework performance problems</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Greg Read<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>